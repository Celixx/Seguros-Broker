<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:av="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="Seguros_Broker.NuevaPropuestaCaratula"
        Title="Nueva Propuesta" Height="1440
    " Width="1280"
        WindowStartupLocation="CenterScreen" Closing="Window_Closing" MinWidth="900" MinHeight="600" Background="#F6F7F9" WindowState="Maximized" >


    <TabControl x:Name="MainTabs" Margin="0,0,0,0">
        <TabItem x:Name="TabCaratula" Header="Carátula">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="23*"/>
                    <ColumnDefinition Width="1251*"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.ColumnSpan="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="NUEVA PROPUESTA DE PÓLIZA" 
                   HorizontalAlignment="Center" Margin="10" 
                   FontSize="24" FontWeight="Bold"/>

                    <Grid Grid.Row="1" HorizontalAlignment="Center" MaxWidth="2000">
                        <Grid Grid.Row="1">
                            <Grid Grid.Row="1" Margin="10">
                                <ScrollViewer VerticalScrollBarVisibility="Auto">
                                    <Grid Margin="10">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <GroupBox Header="Recepción de Documentos" Grid.Row="0" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <TextBlock Text="Fecha recepción de documentos en la corredora (opcional)" VerticalAlignment="Center" Grid.Column="0" Margin="0,2,10,2"/>
                                                <DatePicker Grid.Row="0" Grid.Column="1" HorizontalAlignment="Left" Margin="0,2" x:Name="DtFechaRecepcion"/>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Tipo de Póliza" Grid.Row="1" Margin="0,0,0,10">
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <RadioButton Content="Póliza Convencional" GroupName="TipoPoliza" IsChecked="True" Margin="0,0,15,0" x:Name="RbConvencional"/>
                                                <RadioButton Content="Póliza Colectiva" GroupName="TipoPoliza" x:Name="RbColectiva"/>
                                            </StackPanel>
                                        </GroupBox>

                                        <GroupBox Header="Identificación de Documento" Grid.Row="2" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Número Póliza:*" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="1" Margin="0,2,10,2" x:Name="TxtNumeroPoliza" HorizontalAlignment="Left" Width="150"/>
                                                <TextBlock Text="Renueva Póliza No.:*" VerticalAlignment="Center" Grid.Row="1" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="3" Margin="0,2" x:Name="TxtRenuevaPoliza" HorizontalAlignment="Left" Width="150"/>

                                                <TextBlock Text="Fecha ingreso cia." VerticalAlignment="Center" Grid.Row="2" Grid.Column="0" Margin="0,2,10,2"/>
                                                <DatePicker Grid.Row="2" Grid.Column="1" Margin="0,2,10,2" x:Name="DpFechaIngreso" HorizontalAlignment="Left" Width="150"/>
                                                <TextBlock Text="Fecha Emisión:" VerticalAlignment="Center" Grid.Row="2" Grid.Column="2" Margin="10,2,10,2"/>
                                                <DatePicker Grid.Row="2" Grid.Column="3" Margin="0,2" x:Name="DpTermino" HorizontalAlignment="Left" Width="150"/>

                                                <TextBlock Text="Ramo" VerticalAlignment="Center" Grid.Row="3" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="3" Grid.Column="1" Margin="0,2,10,2" x:Name="TxtRamo" IsReadOnly="True" IsEnabled="False" Visibility="Collapsed" HorizontalAlignment="Stretch" />
                                                <TextBlock Text="Código de ramo*" VerticalAlignment="Center" Grid.Row="3" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="3" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtCodigoRamo" TextChanged="TxtCodigoRamo_TextChanged" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="3" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar cliente" Click="BtnBuscarRamo_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Ejecutivo de cuenta" VerticalAlignment="Center" Grid.Row="4" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="4" Grid.Column="1" Margin="0,2,10,2" x:Name="TxtEjecutivoCuenta" IsReadOnly="True" IsEnabled="False" Visibility="Collapsed" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Código de ejecutivo de cuenta*" VerticalAlignment="Center" Grid.Row="4" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="4" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtCodigoEjecutivo" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="4" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar cliente" Click="BtnBuscarEjecutivoCuenta_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Ejecutivo responsable" VerticalAlignment="Center" Grid.Row="5" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="5" Grid.Column="1" Margin="0,2,10,2" x:Name="TxtEjecutivoResponsable" IsReadOnly="True" IsEnabled="False" Visibility="Collapsed" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Código de ejecutivo responsable*" VerticalAlignment="Center" Grid.Row="5" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="5" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtCodigoEjecutivoResponsable" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="5" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar cliente" Click="BtnBuscarEjecutivoResponsable_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Área de negocio" VerticalAlignment="Center" Grid.Row="6" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="6" Grid.Column="1" Margin="0,2,10,2" x:Name="TxtAreanNegocio" IsReadOnly="True" IsEnabled="False" Visibility="Collapsed" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Código de área de negocio*" VerticalAlignment="Center" Grid.Row="6" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="6" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtAreaNegocio" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="6" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar cliente" Click="BtnBuscarArea_Click" Margin="0,2,0,0" VerticalAlignment="Top">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Fecha de Creación" VerticalAlignment="Center" Grid.Row="7" Grid.Column="0" Margin="0,2,10,2"/>
                                                <DatePicker Grid.Row="7" Grid.Column="1" Margin="0,2,10,2" x:Name="DpFechaCreacion" HorizontalAlignment="Left" Width="150"/>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Vigencias del Documento" Grid.Row="3" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Desde*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2"/>
                                                <DatePicker SelectedDateChanged="DpDesde_DateChanged" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Left" Width="100" Margin="0,2" x:Name="DpDesde"/>

                                                <TextBlock Text="Hasta*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="2" Margin="0,2,10,2"/>
                                                <DatePicker SelectedDateChanged="DpHasta_DateChanged" Grid.Row="0" IsEnabled="False" Grid.Column="3" HorizontalAlignment="Left" Width="100" Margin="0,2" x:Name="DpHasta"/>

                                                <TextBlock Text="No. Días" VerticalAlignment="Center" Grid.Row="0" Grid.Column="4" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="5" HorizontalAlignment="Left" Width="150" Margin="0,2" x:Name="TxtNDias" IsReadOnly="True"/>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Valores" Grid.Row="4" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Moneda*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2"/>
                                                <ComboBox x:Name="cbMonedas" SelectedValuePath="monedaID" DisplayMemberPath="nombre" Grid.Column="1" Margin="0,2,5,2" HorizontalAlignment="Stretch" />
                                                <Button Grid.Row="0" Grid.Column="2" Width="28" Height="28" ToolTip="Buscar moneda" Click="BtnBuscarMoneda_Click" Margin="0,2,10,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>
                                                <TextBlock Text="Prima Neta Afecta" VerticalAlignment="Center" Grid.Row="0" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="4" Margin="0,2" x:Name="TxtPrimaNetaAfecta" IsEnabled="False" Visibility="Collapsed" IsReadOnly="True" HorizontalAlignment="Left" Width="150"/>

                                                <TextBlock Text="Monto asegurado" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtMontoAsegurado" IsReadOnly="True" HorizontalAlignment="Left" Width="150"/>
                                                <TextBlock Text="Prima Neta Exenta" VerticalAlignment="Center" Grid.Row="1" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="4" Margin="0,2" x:Name="TxtPrimaNetaExenta" IsEnabled="False" Visibility="Collapsed" IsReadOnly="True" HorizontalAlignment="Left" Width="150"/>

                                                <TextBlock Text="Comisión Afecta (%)*" VerticalAlignment="Center" Grid.Row="2" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="2" Grid.Column="1" Margin="0,2,5,2" x:Name="TxtComisionAfectaPorcentaje" HorizontalAlignment="Stretch"/>
                                                <TextBox Grid.Row="2" Grid.Column="2" Margin="0,2,10,2" x:Name="TxtComisionAfectaTexto" IsEnabled="False" Visibility="Collapsed" RenderTransformOrigin="0.5,0.5" Width="75" HorizontalAlignment="Left">
                                                    <TextBox.RenderTransform>
                                                        <TransformGroup>
                                                            <ScaleTransform ScaleX="1"/>
                                                            <SkewTransform/>
                                                            <RotateTransform/>
                                                            <TranslateTransform/>
                                                        </TransformGroup>
                                                    </TextBox.RenderTransform>
                                                </TextBox>
                                                <TextBlock Text="Prima Neta Total" VerticalAlignment="Center" Grid.Row="2" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="2" Grid.Column="4" Margin="0,2" x:Name="TxtPrimaNetaTotal" IsEnabled="False" Visibility="Collapsed" IsReadOnly="True" HorizontalAlignment="Left" Width="150"/>

                                                <TextBlock Text="Comisión Exenta (%)*" VerticalAlignment="Center" Grid.Row="3" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="3" Grid.Column="1" Margin="0,2,5,2" x:Name="TxtComisionExentaPorcentaje" HorizontalAlignment="Stretch"/>
                                                <TextBox Grid.Row="3" Grid.Column="2" Margin="0,2,10,2" x:Name="TxtComisionExentaTexto" IsEnabled="False" Visibility="Collapsed" RenderTransformOrigin="0.5,0.5" Width="75" HorizontalAlignment="Left">
                                                    <TextBox.RenderTransform>
                                                        <TransformGroup>
                                                            <ScaleTransform ScaleX="1"/>
                                                            <SkewTransform/>
                                                            <RotateTransform/>
                                                            <TranslateTransform/>
                                                        </TransformGroup>
                                                    </TextBox.RenderTransform>
                                                </TextBox>
                                                <TextBlock Text="IVA" VerticalAlignment="Center" Grid.Row="3" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="3" Grid.Column="4" Margin="0,2" x:Name="TxtIva" IsEnabled="False" Visibility="Collapsed" IsReadOnly="True" HorizontalAlignment="Left" Width="150"/>

                                                <TextBlock Text="Comisión total" VerticalAlignment="Center" Grid.Row="4" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="4" Grid.Column="1" Margin="0,2,10,2" x:Name="TxtComisionTotal" IsEnabled="False" Visibility="Collapsed" HorizontalAlignment="Left" Width="150"/>
                                                <TextBlock Text="Prima Bruta Total" VerticalAlignment="Center" Grid.Row="4" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="4" Grid.Column="4" Margin="0,2" x:Name="TxtPrimaBrutaTotal" IsEnabled="False" Visibility="Collapsed" IsReadOnly="True" HorizontalAlignment="Left" Width="150"/>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Identificación del Cliente" Grid.Row="5" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Facturar a" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtFacturarA" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtRutCliente1" HorizontalAlignment="Stretch" TextChanged="TxtRutCliente1_TextChanged"/>
                                                <Button Grid.Row="0" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar Rut a facturar" Click="BtnBuscarRutFacturar_Click" Margin="0,2,0,0" VerticalAlignment="Top">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Contratante" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtContratante" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut*" VerticalAlignment="Center" Grid.Row="1" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtRutContratante" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="1" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar contratante" Click="BtnBuscarRutContratante_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Asegurado" VerticalAlignment="Center" Grid.Row="2" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="2" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtAsegurado" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut*" VerticalAlignment="Center" Grid.Row="2" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="2" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtRutAsegurado" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="2" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar Rut asegurado" Click="BtnBuscarRutAsegurado_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="A favor de" VerticalAlignment="Center" Grid.Row="3" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="3" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtAFavorDe" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut" VerticalAlignment="Center" Grid.Row="3" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="3" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtRutAFavorDe" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="3" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar a favor de" Click="BtnBuscarRutAFavorDe_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Identificación de Socio y Gestor" Grid.Row="6" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Socio" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtSocio" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtRutSocio" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="0" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar Socio" Click="BtnBuscarRutSocio_Click" Margin="0,2">

                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Gestor" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="1" Margin="0,2,10,2" IsEnabled="False" Visibility="Collapsed" x:Name="TxtGestor" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut*" VerticalAlignment="Center" Grid.Row="1" Grid.Column="2" Margin="10,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="3" Margin="0,2,5,2" x:Name="TxtRutGestor" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="1" Grid.Column="4" Width="28" Height="28" ToolTip="Buscar Gestor" Click="BtnBuscarRutGestor_Click" Margin="0,2,0,0" VerticalAlignment="Top">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Identificación de Compañía" Grid.Row="7" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Compañía" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" IsEnabled="False" Visibility="Collapsed" Margin="0,2,10,2" x:Name="TxtCompania" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Rut*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="4" Margin="0,2,5,2" x:Name="TxtRutCompania" HorizontalAlignment="Stretch"/>
                                                <Button Grid.Row="0" Grid.Column="5" Width="28" Height="28" ToolTip="Buscar Compañía" Click="BtnBuscarRutCompania_Click" Margin="0,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource lupa_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>

                                                <TextBlock Text="Ejecutivo Compañía*" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2"/>
                                                <ComboBox Grid.Row="1" Grid.Column="1" SelectedValuePath="ID" DisplayMemberPath="nombre" x:Name="cbEjecutivosCompania" HorizontalAlignment="Stretch" Margin="0,2,5,2">
                                                </ComboBox>
                                                <Button Grid.Row="1" Grid.Column="2" Width="28" Height="28" ToolTip="Limpiar campo" Click="BtnLimpiarEjecutivo_Click" Margin="0,2,10,2">
                                                    <Button.Content>
                                                        <Image Source="{StaticResource borrar_icono}" Width="16" Height="16"/>
                                                    </Button.Content>
                                                </Button>
                                                <TextBlock Text="Área" VerticalAlignment="Center" Grid.Row="1" Grid.Column="3" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="4" Grid.ColumnSpan="2" IsEnabled="False" Visibility="Collapsed" Margin="0,2" x:Name="TxtGenerales" IsReadOnly="True" HorizontalAlignment="Stretch"/>
                                            </Grid>
                                        </GroupBox>

                                        <GroupBox Header="Referencia a Materia Asegurada" Grid.Row="8" Margin="0,0,0,10">
                                            <Grid Margin="5">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Text="Materia asegurada*" VerticalAlignment="Center" Grid.Row="0" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="0" Grid.Column="1" Margin="0,2" x:Name="TxtMateriaAsegurada" HorizontalAlignment="Stretch"/>
                                                <TextBlock Text="Observación" VerticalAlignment="Center" Grid.Row="1" Grid.Column="0" Margin="0,2,10,2"/>
                                                <TextBox Grid.Row="1" Grid.Column="1" Margin="0,2" x:Name="TxtObservacion" HorizontalAlignment="Stretch"/>
                                            </Grid>
                                        </GroupBox>

                                        <StackPanel Grid.Row="9" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                            <Button Content="Guardar" Width="100" Margin="0,0,10,0" Click="Guardar_Click"/>
                                            <Button Content="Cancelar" Width="100" Click="Cancelar_Click"/>
                                        </StackPanel>
                                    </Grid>
                                </ScrollViewer>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
            </Grid>
        </TabItem>

        <TabItem x:Name="TabItems" Header="Items" IsEnabled="False">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">

                <!-- Grid Principal que divide la ventana en 3 secciones:
             Fila 0: Detalle del Item
             Fila 1: Coberturas
             Fila 2: Pie de página con totales
        -->
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- SECCIÓN 1: ITEMS Y DETALLE DEL ITEM (Grid.Row="0") -->
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" MinWidth="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Columna 0: Lista de Items -->
                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                            <ToolBar Height="28">
                                <Button Content="Agregar" Click="BtnAgregarItem"/>
                                <Button Content="Eliminar"/>
                                <Button Content="Copiar"/>
                            </ToolBar>
                            <DataGrid x:Name="DgItemsConCobertura" ItemsSource="{Binding ItemsConCobertura}" AutoGenerateColumns="False" IsReadOnly="True">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Número Item" Binding="{Binding Numero}" Width="Auto"/>
                                    <DataGridTextColumn Header="Prima neta" Binding="{Binding PrimaNeta, StringFormat=C}" Width="auto"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </StackPanel>

                        <!-- Columna 1: Detalle del Item -->
                        <GroupBox Grid.Column="1" Header="Detalle del Item" Padding="10">
                            <StackPanel>
                                <!-- Grid para el formulario principal de detalles -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <!-- Label -->
                                        <ColumnDefinition Width="*"/>
                                        <!-- Input -->
                                        <ColumnDefinition Width="Auto"/>
                                        <!-- Label -->
                                        <ColumnDefinition Width="*"/>
                                        <!-- Input -->
                                        <ColumnDefinition Width="Auto"/>
                                        <!-- Label -->
                                        <ColumnDefinition Width="*"/>
                                        <!-- Input -->
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Fila 0 -->
                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Número Item:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="0" Grid.Column="1" Margin="5" x:Name="TxtIdItem" />

                                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Carrocería:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="0" Grid.Column="3" Margin="5" x:Name="TxtCarroceria"/>

                                    <TextBlock Grid.Row="0" Grid.Column="4" Text="Chasis:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="0" Grid.Column="5" Margin="5" x:Name="TxtChasis"/>

                                    <!-- Fila 1 -->
                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Materia Asegurada:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="1" Grid.Column="1" Margin="5" x:Name="TxtMateriaAsegurada1"/>

                                    <TextBlock Grid.Row="1" Grid.Column="2" Text="Propietario:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="1" Grid.Column="3" Margin="5" x:Name="TxtPropietario"/>

                                    <TextBlock Grid.Row="1" Grid.Column="4" Text="Valor Comercial:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="1" Grid.Column="5" Margin="5" x:Name="TxtValorComercial"/>

                                    <!-- Fila 2 -->
                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Año:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="2" Grid.Column="1" Margin="5" x:Name="TxtAnno"/>

                                    <TextBlock Grid.Row="2" Grid.Column="2" Text="Tipo:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="2" Grid.Column="3" Margin="5" x:Name="TxtTipo"/>

                                    <TextBlock Grid.Row="2" Grid.Column="4" Text="Modelo:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="2" Grid.Column="5" Margin="5" x:Name="TxtModelo"/>

                                    <!-- Fila 3 -->
                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Patente:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="3" Grid.Column="1" Margin="5" x:Name="TxtPatente"/>

                                    <TextBlock Grid.Row="3" Grid.Column="2" Text="Número Motor:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="3" Grid.Column="3" Margin="5" x:Name="TxtNumeroMotor"/>

                                    <TextBlock Grid.Row="3" Grid.Column="4" Text="Número Chasis:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="3" Grid.Column="5" Margin="5" x:Name="TxtNumeroChasis"/>

                                    <!-- Fila 4 -->
                                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Minuta de Item:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="4" Grid.Column="1" Margin="5" x:Name="TxtMinutaItem"/>

                                    <TextBlock Grid.Row="4" Grid.Column="2" Text="Color:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="4" Grid.Column="3" Margin="5" x:Name="TxtColor"/>

                                    <TextBlock Grid.Row="4" Grid.Column="4" Text="Uso:" VerticalAlignment="Center" Margin="5"/>
                                    <TextBox Grid.Row="4" Grid.Column="5" Margin="5" x:Name="TxtUso"/>

                                    <!-- Fila 5 -->
                                    <TextBlock Grid.Row="5" Grid.Column="0" Text="A favor de:" VerticalAlignment="Center" Margin="5"/>


                                    <TextBlock Grid.Row="5" Grid.Column="2" Text="Rut:" VerticalAlignment="Center" Margin="5" />
                                    <TextBox Grid.Row="5" Grid.Column="3" Height="Auto" Margin="5,3,112,6" x:Name="TxtRutItem"  Width="200" HorizontalAlignment="Left"/>
                                    <Button Grid.Row="5" Grid.Column="3" Height="24" Margin="208,0,7,0" VerticalAlignment="Center" x:Name="BtnBuscarItem" Click="BtnBuscarItem_Click" Width="25" >
                                        <TextBlock Text="🔍" />
                                    </Button>

                                    <!-- Fila 6 -->
                                </Grid>

                                <Separator Margin="0,10,0,10"/>

                                <!-- Grid para la Vigencia -->
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Vigencia" VerticalAlignment="Center" Margin="5" FontWeight="Bold"/>
                                    <TextBlock Grid.Column="1" Text="Desde:" VerticalAlignment="Center" Margin="15,5,5,5"/>
                                    <DatePicker SelectedDateChanged="DpDesdeItems_SelectionChanged" Grid.Column="2" Width="120" Margin="5" x:Name="TxtFechaDesde"/>
                                    <TextBlock Grid.Column="4" Text="Hasta:" VerticalAlignment="Center" Margin="10,5,5,5"/>
                                    <DatePicker SelectedDateChanged="DpHastaItems_SelectionChanged" Grid.Column="5" Width="120" Margin="5" x:Name="TxtFechaHasta"/>
                                    <TextBlock Grid.Column="7" Text="Días:" VerticalAlignment="Center" Margin="10,5,5,5"/>
                                    <TextBox x:Name="txtDiasItem" Grid.Column="8" Width="50" Margin="5"/>
                                </Grid>
                            </StackPanel>
                        </GroupBox>
                    </Grid>


                    <GroupBox Grid.Row="1" Header="Coberturas" Padding="10" Margin="0,10,0,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>

                                <RowDefinition Height="Auto"/>

                                <RowDefinition Height="Auto"/>

                            </Grid.RowDefinitions>


                            <Button Grid.Row="0" Content="Agregar cobertura" HorizontalAlignment="Right" Margin="0,0,5,5" Click="BtnAgregarCobertura" />


                            <DataGrid x:Name="CoberturasDataGrid" Grid.Row="1" Margin="0,10,0,0" AutoGenerateColumns="False" IsReadOnly="True" Height="150" 
                                      ItemsSource="{Binding CoberturasDePropuesta}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Código" Binding="{Binding codigo}" Width="Auto"/>
                                    <DataGridTextColumn Header="Cobertura" Binding="{Binding nombre}" Width="Auto"/>
                                    <DataGridTextColumn Header="Afecta Exenta" Binding="{Binding afectaExtenta}" Width="Auto"/>
                                    <DataGridTextColumn Header="Suma al Monto" Binding="{Binding sumaMonto}" Width="Auto"/>
                                    <DataGridTextColumn Header="Monto" Binding="{Binding ElementName=TxtMontoAsegurado, Path=Text}" Width="Auto"/>
                                    <DataGridTextColumn Header="Prima" Binding="{Binding ElementName=TxtPrimaNetaTotal, Path=Text}" Width="Auto"/>
                                </DataGrid.Columns>

                            </DataGrid>
                        </Grid>
                    </GroupBox>


                    <Grid Grid.Row="2" Margin="0,10,0,0">
                        <StackPanel  Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
                            <Button Content="Guardar Coberturas de Ítem" 
                            Padding="15,5" FontWeight="Bold" Click="BtnGuardarItemCoberturas_Click" Margin="10,0,0,0"/>
                        </StackPanel>

                    </Grid>

                </Grid>
            </ScrollViewer>
        </TabItem>

        <TabItem x:Name="TabPlan" IsEnabled="False" Header="Plan de Pago">
            <TabItem.Resources>
                <Style x:Key="LabelStyle" TargetType="TextBlock">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="Margin" Value="0,0,5,0"/>
                    <Setter Property="FontWeight" Value="SemiBold"/>
                </Style>
                <Style TargetType="TextBox">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="Margin" Value="0,5,15,5"/>
                    <Setter Property="Padding" Value="3"/>
                </Style>
                <Style TargetType="ComboBox">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="Margin" Value="0,5,15,5"/>
                    <Setter Property="Padding" Value="3"/>
                </Style>
                <Style TargetType="DatePicker">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="Margin" Value="0,5,15,5"/>
                    <Setter Property="Padding" Value="3"/>
                </Style>
                <Style x:Key="StaticValueStyle" TargetType="TextBlock">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                    <Setter Property="Margin" Value="0,5,15,5"/>
                    <Setter Property="Padding" Value="4,3"/>
                    <Setter Property="Background" Value="#EEE"/>
                    <Setter Property="MinWidth" Value="100"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                </Style>
            </TabItem.Resources>

            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <GroupBox Grid.Row="0" Header="Valores" FontWeight="Bold" Margin="0,0,0,10">
                    <UniformGrid Rows="1" Margin="5">
                        <StackPanel Margin="5,0">
                            <TextBlock Style="{StaticResource LabelStyle}" Text="Monto asegurado"/>
                            <TextBlock x:Name="txtMontoAseguradoValor" Text="{Binding MontoAsegurado}" FontWeight="Bold"/>
                        </StackPanel>
                        <StackPanel Margin="5,0">
                            <TextBlock Style="{StaticResource LabelStyle}" Text="Prima neta afecta"/>
                            <TextBlock x:Name="txtPrimaNetaAfectaValor" Text="{Binding PrimaNetaAfecta}" FontWeight="Bold"/>
                        </StackPanel>
                        <StackPanel Margin="5,0">
                            <TextBlock Style="{StaticResource LabelStyle}" Text="Prima neta exenta"/>
                            <TextBlock x:Name="txtPrimaNetaExentaValor" Text="{Binding PrimaNetaExenta}" FontWeight="Bold"/>
                        </StackPanel>
                        <StackPanel Margin="5,0">
                            <TextBlock Style="{StaticResource LabelStyle}" Text="Prima neta total"/>
                            <TextBlock x:Name="txtPrimaNetaTotalValor" Text="{Binding PrimaNetaTotal}" FontWeight="Bold"/>
                        </StackPanel>
                        <StackPanel Margin="5,0">
                            <TextBlock Style="{StaticResource LabelStyle}" Text="IVA"/>
                            <TextBlock x:Name="txtIVAValor" Text="{Binding IVA}" FontWeight="Bold"/>
                        </StackPanel>
                        <StackPanel Margin="5,0">
                            <TextBlock Style="{StaticResource LabelStyle}" Text="Prima bruta total"/>
                            <TextBlock x:Name="txtPrimaBrutaTotalValor" Text="{Binding PrimaBrutaTotal}" FontWeight="Bold"/>
                        </StackPanel>
                    </UniformGrid>
                </GroupBox>

                <StackPanel Grid.Row="1" Orientation="Vertical">

                    <GroupBox Header="Completa el siguiente formulario" Margin="0,0,0,10">
                        <StackPanel Margin="5">
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock Style="{StaticResource LabelStyle}" Text="Forma de compromiso de pago"/>
                                <ComboBox x:Name="cbFormaCompromiso" Width="200">
                                </ComboBox>
                            </StackPanel>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Datos del plan de pago" Margin="0,0,0,10">
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource LabelStyle}" Text="Cuota desde"/>
                            <TextBox   Grid.Row="0" Grid.Column="1" x:Name="txtCuotaDesde"/>

                            <TextBlock Grid.Row="0" Grid.Column="2" Style="{StaticResource LabelStyle}" Text="Fecha de ingreso plan de pago"/>
                            <DatePicker Grid.Row="0" Grid.Column="3" x:Name="dpFechaIngresoPlan"/>

                            <TextBlock Grid.Row="0" Grid.Column="4" Style="{StaticResource LabelStyle}" Text="Monto a pactar"/>
                            <TextBox   Grid.Row="0" Grid.Column="5" x:Name="txtMontoPactar"/>

                            <TextBlock Grid.Row="0" Grid.Column="6" Style="{StaticResource LabelStyle}" Text="Monto total"/>
                            <TextBlock Grid.Row="0" Grid.Column="7" x:Name="txtMontoTotalStatic" Style="{StaticResource StaticValueStyle}" Text="[0]"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource LabelStyle}" Text="Cuota hasta"/>
                            <TextBox   Grid.Row="1" Grid.Column="1" x:Name="txtCuotaHasta"/>

                            <TextBlock Grid.Row="1" Grid.Column="4" Style="{StaticResource LabelStyle}" Text="% Factor"/>
                            <TextBox   Grid.Row="1" Grid.Column="5" x:Name="txtPorcentajeFactor" IsEnabled="False"/>

                            <TextBlock Grid.Row="1" Grid.Column="6" Style="{StaticResource LabelStyle}" Text="Total cuotas"/>
                            <TextBlock Grid.Row="1" Grid.Column="7" x:Name="txtTotalCuotasStatic" Style="{StaticResource StaticValueStyle}" Text="[0]"/>

                            <TextBlock Grid.Row="2" Grid.Column="4" Style="{StaticResource LabelStyle}" Text="% Interes Mensual"/>
                            <TextBox   Grid.Row="2" Grid.Column="5" x:Name="txtInteresMensual" IsEnabled="False"/>

                            <TextBlock Grid.Row="3" Grid.Column="4" Style="{StaticResource LabelStyle}" Text="Monto total de cuota"/>
                            <TextBlock Grid.Row="3" Grid.Column="5" x:Name="txtMontoTotalCuotaStatic" Style="{StaticResource StaticValueStyle}" Text="[0]"/>
                            <Button Grid.Column="7" Content="Guardar" HorizontalAlignment="Left" Margin="94,21,0,0" Grid.RowSpan="2" Grid.Row="2" VerticalAlignment="Top" Width="100" Height="25" Click="Guaradar_Click_Pagos"/>
                        </Grid>
                    </GroupBox>

                </StackPanel>

                <DataGrid Grid.Row="2" x:Name="dataGridPlanPagos" AutoGenerateColumns="False" IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header=" " Width="30"/>

                        <!-- Cuota -->
                        <DataGridTextColumn Header="Cuota" Binding="{Binding CuotaNro}" IsReadOnly="True" Width="60"/>

                        <!-- Monto -->
                        <DataGridTextColumn Header="Monto" Binding="{Binding Monto, StringFormat=N2}" IsReadOnly="True" Width="100" />

                        <!-- Fecha de vencimiento -->
                        <DataGridTextColumn Header="Fecha de vencimiento" Binding="{Binding FechaVencimientoStr}" IsReadOnly="True" Width="140"/>

                        <!-- Forma de pago -->
                        <DataGridTextColumn Header="Forma de pago" Binding="{Binding FormaPago}" IsReadOnly="True" Width="80"/>

                        <!-- Numero de documento -->
                        <DataGridTextColumn Header="Numero de documento" Binding="{Binding NumeroDocumento}" Width="140"/>

                        <!-- Nro. Tarj/Cta Cte -->
                        <DataGridTextColumn Header="Nro. Tarj/Cta Cte" Binding="{Binding NroTarjetaCuenta}" Width="140"/>

                        <!-- Tipo Tarj -->
                        <DataGridTextColumn Header="Tipo Tarj" Binding="{Binding TipoTarjeta}" Width="100"/>

                        <!-- Validez Tarj -->
                        <DataGridTextColumn Header="Validez Tarj" Binding="{Binding ValidezTarjeta}" Width="100"/>

                        <!-- Banco -->
                        <DataGridTextColumn Header="Banco" Binding="{Binding Banco}" Width="140"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </TabItem>

        <TabItem x:Name="TabMinuta" IsEnabled="False" Header="Minuta de Documento">

        </TabItem>

        <TabItem x:Name="TabBitacora" IsEnabled="False" Header="Bitácora">

        </TabItem>

        <TabItem x:Name="TabDocumentos" IsEnabled="False" Header="Documentos Adjuntos">

        </TabItem>
    </TabControl>
</Window>